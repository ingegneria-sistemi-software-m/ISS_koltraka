
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
    <!--
<link rel="stylesheet" type="text/css" href="../css/issStyle1.css">
<script type="text/javascript" src="../css/issStyle.js"></script>
-->
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/foundation-sites@6.7.4/dist/css/foundation.min.css" crossorigin="anonymous">
		<script src="https://cdn.jsdelivr.net/npm/foundation-sites@6.7.4/dist/js/foundation.min.js"crossorigin="anonymous"></script> 
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" type="text/css" href="./commons/resources/styles/templateISS.css">
        <link rel="stylesheet" type="text/css" href="./commons/resources/styles/main.css">
        <link rel="stylesheet" type="text/css" href="./commons/resources/styles/navbar.css">
        <link rel="stylesheet" type="text/css" href="./commons/resources/styles/table.css">
        <link rel="stylesheet" type="text/css" href="./commons/resources/styles/code.css">
        <!-- <script type="text/javascript" src="./commons/resources/scripts/myScripts.js"></script> -->
<style type="text/css">
body
{
    margin-left:  30px;
    margin-right: 30px;
};

P
{
    font-family: Tahoma;
    font-size: 10pt;
};

a, a:visited, a:active, a:link, a:hover {
    text-decoration: underline;
    color: #545454;
    background-color: transparent;
	font-size: 93%;
}

a:hover {
    background-color: #cccccc;
}


hr {
    clear: both;
    height: 1px;
    color: #242424;
    background-color: transparent;
}

h1, h2, h3 {
    color: #242424;
    clear: left;
    font: 100% Tahoma, Helvetica, Arial, sans-serif;
    margin-bottom: 0.5em;
    padding-top: 0.5em;
	border-radius: 10px;
	padding: 5px;
}

top {
	width: 100%;
}


#i {
    color: #ff1010;
}
tt{
	font-family: "Arial";
    font-size: 90%;
	color: #006600;
}
em{
	font-family: "Arial";
    font-size: 80%;
	font-weight: bold;
	border-style:solid;
	border-color: #abe876;
    color: #1632cc;
}
bc{
	font-family: "Arial";
	font-size: 90%;
	font-weight: bold;
    color: #990000;
	background-color: #fcf8c7;
}
ks{
	font-family: "Arial";
	font-weight: bold;
    color: #0000CD	;
	font-size: 90%;
}
kc{
	font-family: "Arial";
	font-weight: bold;
    color: #008000	;
	font-size: 90%;
}
pre{
	font-family: "Consolas";
	font-size: 85%;
	background-color: #f5f5f5;
	border: 1.5px solid silver;
	padding: 5px;
}
m{
	font-family: "Helvetica";
	line-height: 100%;
 	font-size: 75%;
}
div.body{
	 
    font-size: 18px;
}
k{
    color: #990000;
	font-weight: bold;
	font-size: 90%;
}
h1 {
    font-size: 150%;
    background-color: #b2c0ff;
	padding: 10px;
}

h2 {
    background-color: #9ed8ff;
    font-size: 130%;
}

h3 {
	background-color: #e6ccff;
    font-size: 100%;
}
h4 {
    background-color: #ccffcc;
    font-size: 100%;
	width: 95%;
	border-radius: 5px;
	padding: 2px;
}
h5 {
    background-color: #d5ffb0;
    font-size: 100%;

}
div.req{
	background-color: #d9ffb3;
    font-size: 18px;
	width: 700px;
    border: 3px solid green;
    padding: 15px;
    margin: 10px;
}
div.remark{
	background-color: #E3F2FD;
    border: 1.5px solid #d5f2ed;
    padding: 15px;
    margin: 10px;
	border-radius: 25px;
}
div.alert{
	background-color: #f9613b;
    border: 1.5px solid #d5f2ed;
    padding: 15px;
    margin: 10px;
	border-radius: 25px;
}
table, th, td {
  border: 1px solid black;
  border-collapse: collapse;
}

ol, ul, li {
  margin: 0;
  margin-left: 10px;
  padding: 0;
  padding-bottom: 5px;
}

table, th, td {
	border: 1px solid black;
}

img {
	border: 1.5px solid #d5f2ed

}

a, a:visited, a:active, a:link, a:hover {
    text-decoration: underline;
    color: #545454;
    background-color: transparent;
}

div.wrapdesc{
	width: 90%;
	margin: auto;
}

div.imagedesc{
	width: 85%;
	margin: auto;
}
</style>
    
 
   
</head>
	
		
  


   
<title>TemplateToFill</title></head>
    

<body>
<div id="top">
<h1>LABORATORIO DI INGEGNERIA DEI SISTEMI SOFTWARE <font size="5"></font> </h1>
</div>  

<div class="body"> 
<h2>Introduction</h2>
 
 
<h2>Requirements</h2> 
<div class="remark">
	Sviluppare Un actor che gestisce un Sonar connesso a un RaspberryPi, rendendo disponibile a componenti interessati (locali o remoti)
	la distanza rilevata. Se la distanza è inferiore a un valore prefissato LIMIT deve accendere il Led.
</div>

 

<h2>Problem analysis</h2>
<div class="remark">
	L'attore che gestisce (cosa significa gestisce? Vago...) il sonar deve svolgere il ruolo di broker ponendosi in mezzo al sonar e ai componenti
	interessati alle misurazioni di quest'ultimo.
	<br><br>
	
	L'attore dovrà continuamente recuperare le misurazioni dal sonar (come?) e inviarle alle altre entità del sistema. Per far questo è necessario 
	che l'attore che gestisce il sonar conosca i nomi di tutti gli altri attori del sistema o, equivalentemente, abbia un qualche riferimento verso
	quest'ultimi. Per questo motivo MQTT si presta bene come protocollo di comunicazione tra le entità in gioco (mi disaccoppio da tutti i possibili subscriber, 
	ho bisogno di conoscere solo il broker). 
	<br><br>
	
	<b>NB: con QAK basta che l'attore che gestisce il sonar emetta un evento contenente la misurazione e "magicamente" tutti gli altri lo ricevono</b>
	<br><br>
	
	Si ha che le misurazioni del sonar vengono prodotte da un programma Python in quanto questo linguaggio ha delle librerie che supportano in maniera
	agevole la gestione dei pin di GPIO. A questo punto ho due alternative:
	
	<ul>
		<li>
			Posso far pubblicare al programma python le misurazioni che recupera dal sonar su una topic MQTT. L'attore che gestisce il sonar si iscriverà a questa topic
			e ripubblicherà le misurazioni che gli arrivano come eventi per gli altri attori del sistema.
		</li>
		<li>In alternativa, posso far recuperare le misurazioni direttamente all'attore che gestisce il sonar, senza passare da un broker MQTT. Questa soluzione però mi 
			obbliga a far eseguire l'attore che gestisce il sonar localmente sul raspberry; la prima soluzione funziona anche da remoto.
		</li>
	</ul>
	
	La prima alternativa sembra quella più conveniente. Facciamo un prototipo con QAK e senza.
</div>

<div class="alert">
	Non ho ben capito come mandare messaggi che sono diversi da stringhe. Volevo mandare dei float, rappresentativi delle misurazioni del sonar, ma la sintassi di 
	interpolazione di stringhe '$nome_variabile' non funziona. Sono dovuto andare a modificare il codice Kotlin autogenerato :(
</div>

 
<!-- USEFUL
<table style="width:100%" border="1">
<tr>
<td style="width:50%">
</td>
<td></td>
</tr>
</table>
-->
	      	
<br/><br/> 	
</div>  

<div style="background-color:rgba(86, 56, 253, 0.9); width:60%;text-align:left;color:white">
By Koltraka Kevin; email: kevin.koltraka@studio.unibo.it 
<img src="./immagini/kevin.jpeg" alt="mbot" width="15%" height="15%">
GIT repo: <a href="https://github.com/ingegneria-sistemi-software-m/ISS_koltraka">https://github.com/ingegneria-sistemi-software-m/ISS_koltraka</a>
</div> 
</body>
</html>
